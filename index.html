<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Global Wealth Distribution Visualization</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>Global Wealth Distribution Visualization</h1>
            <p class="subtitle">
                Explore how global wealth is distributed across custom wealth brackets.
                Define your own brackets by minimum wealth per adult (USD) to see what percentage
                of the world's adult population falls into each bracket and how much of total global wealth they hold.
            </p>
            <div class="data-source">
                <p><strong>Data source:</strong> <a href="https://www.ubs.com/global/en/family-office-uhnw/reports/global-wealth-report-2023.html" target="_blank">UBS Global Wealth Report 2023</a> (2022 data) | Enhanced v2.0</p>
                <p class="data-note">The dataset combines real wealth distribution data from UBS/Credit Suisse Global Wealth Report with statistical modeling for detailed exploration. Data includes 3.77 billion adults with tracked wealth data (out of ~5.4 billion global adults). The discrepancy exists because comprehensive wealth data is not available for all countries and populations.</p>
                <p><strong>Global totals:</strong> 3.77 billion adults | $454.4 trillion USD total wealth | Mean wealth per adult: $120,594 | 76 granular wealth bins</p>

                <details class="data-quality-details">
                    <summary>About Data Quality & Methodology</summary>
                    <div class="methodology-content">
                        <h4>Data Quality by Wealth Range</h4>
                        <ul>
                            <li><strong>$0 - $1M:</strong> <span class="quality-real">Real Data</span> - Based on actual UBS/Statista aggregated brackets, subdivided for finer granularity using interpolation</li>
                            <li><strong>$1M - $100B:</strong> <span class="quality-modeled">Modeled Data</span> - Uses Pareto distribution (alpha=1.3-1.5), the standard statistical model for wealth tails, validated against known percentile thresholds</li>
                        </ul>

                        <h4>Methodology</h4>
                        <ul>
                            <li><strong>Interpolation:</strong> Linear subdivision of known aggregate brackets to create finer bins</li>
                            <li><strong>Pareto Modeling:</strong> Pareto Type I distribution with empirically validated alpha parameters (1.3-1.5) for ultra-high wealth ranges</li>
                            <li><strong>Normalization:</strong> All bins proportionally adjusted to match exact global totals ($454.4T wealth, 3.77B adults)</li>
                            <li><strong>Validation:</strong> Results verified against known thresholds: p50=$8.7K, p90=$137K, p99=$1.08M, p99.9=$50M</li>
                        </ul>

                        <h4>Granularity Levels</h4>
                        <p>The enhanced dataset provides fine-grained bins optimized for exploration:</p>
                        <ul>
                            <li>$0-$10K: Single bin (poorest 39.5%)</li>
                            <li>$10K-$100K: $10K steps (9 bins)</li>
                            <li>$100K-$1M: $25K steps (36 bins)</li>
                            <li>$1M-$100M: $10M steps using Pareto (10 bins)</li>
                            <li>$100M-$1B: $100M steps using Pareto (9 bins)</li>
                            <li>$1B+: $10B steps using Pareto (11 bins)</li>
                        </ul>

                        <p class="methodology-footer">
                            <em>Why Pareto?</em> The Pareto distribution is well-established in economics for modeling high-wealth tails, where a small percentage holds a disproportionate share of wealth. It's been empirically validated across numerous wealth distribution studies.
                        </p>
                    </div>
                </details>
            </div>
        </header>

        <div class="main-content">
            <aside class="controls-panel">
                <h2>Wealth Brackets</h2>
                <p class="instruction">Define minimum wealth thresholds (USD per adult):</p>

                <div id="brackets-list" class="brackets-list">
                    <!-- Bracket rows will be inserted here dynamically -->
                </div>

                <button id="add-bracket-btn" class="btn-add">+ Add Bracket</button>

                <div class="axis-toggle">
                    <label>
                        <input type="radio" name="axis-mode" value="percentage" checked>
                        Population %
                    </label>
                    <label>
                        <input type="radio" name="axis-mode" value="absolute">
                        Absolute Count
                    </label>
                </div>

                <div class="summary-panel">
                    <h3>Coverage Summary</h3>
                    <div class="summary-grid">
                        <div class="summary-item">
                            <span class="label">Adults covered:</span>
                            <span id="adults-covered" class="value">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Adults not covered:</span>
                            <span id="adults-not-covered" class="value">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Wealth covered:</span>
                            <span id="wealth-covered" class="value">-</span>
                        </div>
                        <div class="summary-item">
                            <span class="label">Wealth not covered:</span>
                            <span id="wealth-not-covered" class="value">-</span>
                        </div>
                    </div>
                </div>
            </aside>

            <main class="chart-section">
                <div id="chart-container" class="chart-container">
                    <canvas id="wealth-chart"></canvas>
                </div>
                <div id="no-data-message" class="no-data-message" style="display: none;">
                    Define at least one minimum wealth threshold to see the chart.
                </div>
            </main>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>

<!--
GITHUB PAGES DEPLOYMENT INSTRUCTIONS:

1. Create a new GitHub repository:
   - Go to https://github.com/new
   - Name your repository (e.g., "wealth-distribution-viz")
   - Choose "Public" visibility
   - Click "Create repository"

2. Add the files to your repository:
   - Clone the repository locally: git clone https://github.com/YOUR-USERNAME/REPO-NAME.git
   - Copy these files into the cloned directory:
     * index.html
     * styles.css
     * script.js
     * data/wealth_distribution.json
   - Commit and push:
     git add .
     git commit -m "Initial commit: Global wealth distribution visualization"
     git push origin main

3. Enable GitHub Pages:
   - Go to your repository on GitHub
   - Click "Settings" tab
   - Scroll to "Pages" in the left sidebar
   - Under "Source", select "Deploy from a branch"
   - Select branch "main" and folder "/ (root)"
   - Click "Save"

4. Access your site:
   - After a few minutes, your site will be live at:
     https://YOUR-USERNAME.github.io/REPO-NAME/
   - GitHub will show the URL in the Pages settings

Alternative: If you already have the files locally, you can also:
- Use GitHub's web interface to create files directly
- Drag and drop files into the repository
- Use GitHub Desktop application for easier git management
-->
